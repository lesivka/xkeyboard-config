# To rebuild this patch, run
  if x=$(quilt top) && [ "$x" = resync_rules_base.diff ]; then
    echo Regenerating $x
  else
    echo 'You need to apply resync_rules_base.diff with "quilt push -f" first'
    exit 1
  fi
  ./debian/rules config.status
  cd rules/compat
  quilt add base.l[2-4]*.part base.m*.part
  rm -f base.l[2-4]*.part base.m*.part
  make
  cd ..
  quilt add base base.lst
  rm -f base base.lst
  make base base.lst
  cd ..
  quilt refresh --sort
  exit 0

Index: xkb-data/rules/base
===================================================================
--- xkb-data.orig/rules/base	2008-05-28 14:11:56.000000000 +0200
+++ xkb-data/rules/base	2008-05-28 14:12:01.000000000 +0200
@@ -202,9 +202,6 @@
   *		yu		unicode		=	pc+srp(latinunicode)
   *		yu		yz		=	pc+srp(latinyz)
   *		yu		unicodeyz		=	pc+srp(latinunicodeyz)
-  classmate	us		intl		=	pc+us(classmate-intl)
-  classmate	us		alt-intl	=	pc+us(classmate-alt-intl)
-  classmate	us		altgr-intl	=	pc+us(classmate-altgr-intl)
 
 ! model		layout				=	symbols
   *		ar			=	pc+ara
@@ -906,6 +903,7 @@
   grp:lctrl_toggle	=	+group(lctrl_toggle)
   grp:rctrl_toggle	=	+group(rctrl_toggle)
   grp:lalt_toggle	=	+group(lalt_toggle)
+  grp:sclk_toggle	=	+group(sclk_toggle)
   lv3:switch		=	+level3(switch)
   lv3:ralt_switch	=	+level3(ralt_switch)
   lv3:ralt_switch_multikey	=	+level3(ralt_switch_multikey)
@@ -916,6 +914,7 @@
   lv3:win_switch	=	+level3(win_switch)
   lv3:lwin_switch	=	+level3(lwin_switch)
   lv3:rwin_switch	=	+level3(rwin_switch)
+  lv3:enter_switch	=	+level3(enter_switch)
   caps:capslock		=	+capslock(capslock)
   caps:shiftlock	=	+capslock(shiftlock)
   caps:grouplock	=	+capslock(grouplock)
@@ -942,6 +941,7 @@
   keypad:legacy_wang    =	+keypad(legacy_wang)
   keypad:oss_wang       =	+keypad(oss_wang)
   keypad:future_wang    =	+keypad(future_wang)
+  keypad:comma          =       +keypad(comma)
   nbsp:none             =	+nbsp(none)
   nbsp:level2           =	+nbsp(level2)
   nbsp:level3           =	+nbsp(level3)
Index: xkb-data/rules/base.lst
===================================================================
--- xkb-data.orig/rules/base.lst	2008-05-28 14:11:56.000000000 +0200
+++ xkb-data/rules/base.lst	2008-05-28 14:12:01.000000000 +0200
@@ -582,6 +582,7 @@
   grp:rshift_toggle    Right Shift key changes layout.
   grp:lctrl_toggle     Left Ctrl key changes layout.
   grp:rctrl_toggle     Right Ctrl key changes layout.
+  grp:sclk_toggle      ScrollLock key changes group.
   lv3                  Third level choosers
   lv3:switch           Press Right Ctrl to choose 3rd level.
   lv3:menu_switch      Press Menu key to choose 3rd level.
@@ -593,6 +594,7 @@
   lv3:ralt_switch      Press Right Alt key to choose 3rd level.
   lv3:ralt_switch_multikey Press Right Alt key to choose 3rd level, Shift+Right Alt key is Multi_Key.
   lv3:ralt_alt         Right Alt key never chooses 3rd level.
+  lv3:enter_switch     Press Enter key on keypad to choose 3rd level.
   ctrl                 Ctrl key position
   ctrl:nocaps          Make CapsLock an additional Ctrl.
   ctrl:swapcaps        Swap Ctrl and CapsLock.
@@ -605,6 +607,7 @@
   grp_led:scroll       ScrollLock LED shows alternative layout.
   keypad               Numeric keypad layout selection
   keypad:legacy        Legacy keypad
+  keypad:comma         Force standard comma keypad
   keypad:oss           Keypad with unicode additions (arrows and math operators)
   keypad:future        Keypad with unicode additions (arrows and math operators). Math operators on default level.
   keypad:legacy_wang   Legacy Wang 724 keypad
